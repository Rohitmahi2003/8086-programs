DATA SEGMENT
	STR1 DB 20 DUP("$")
	CHARTOREPLACE DB ?
	REPLACEMENTCHAR DB ?
	MAINSTR DB 13,10,"STR 1: $"
	REPLSTR DB 13,10,"CHAR TO REPLACE: $"
	NEWSTRING DB 13,10,"REPLACEMENT CHAR: $"
	OUTSTRING DB 13,10,"MODIFIED STR: $"
	NOTSTRING DB 13,10,"NO OCCURRENCES FOUND $"
DATA ENDS
CODE SEGMENT
 	ASSUME CS:CODE,DS:DATA
START:
	MOV AX,DATA
	MOV DS,AX
	LEA DX,MAINSTR
	MOV AH,09H
	INT 21H
	LEA SI,STR1
	MOV CX,20
LOOP0:
	MOV AH,01H
	INT 21H
	CMP AL,13
	JE SKIP0
	MOV [SI],AL
	INC SI
	LOOP LOOP0
SKIP0:
	MOV BYTE PTR [SI],"$"
	LEA DX,REPLSTR
	MOV AH,09H
	INT 21H
	MOV AH,01H
	INT 21H
	MOV [CHARTOREPLACE],AL
	LEA DX,NEWSTRING
	MOV AH,09H
	INT 21H
	MOV AH,01H
	INT 21H
	MOV [REPLACEMENTCHAR],AL
	CALL REPLACE
	MOV AH,4CH
	INT 21H
REPLACE PROC
	LEA SI,STR1
	MOV AL,[CHARTOREPLACE]
	MOV BL,[REPLACEMENTCHAR]
	XOR CX,CX
REPLACE_LOOP:
	CMP BYTE PTR [SI],'$'
	JE DONE
	CMP BYTE PTR [SI],AL
	JNE NEXT
	MOV [SI],BL
	INC CX
NEXT:
	INC SI
	JMP REPLACE_LOOP
DONE: 
	CMP CX,0
	JE NO_OCCURRENCES
	LEA DX,OUTSTRING
	MOV AH,09H
	INT 21H
	LEA DX,STR1
	MOV AH,09H
	INT 21H
	RET
NO_OCCURRENCES:
	LEA DX,NOTSTRING
	MOV AH,09H
	INT 21H
	RET
REPLACE ENDP
CODE ENDS
END START
